@model UFEvaluations.Models.DepartmentListViewModel

@{
    ViewBag.Title = "Departments";
}

@section Scripts {
    @Scripts.Render("~/Scripts/loadDatatable.js")
}

<h1>Departments</h1>
<p>
    This page displays a list of departments within the University of Florida. It includes the college, the total number of
    responses received, the total number of students within each class, the average response rate, and
    the average rating by category for each college for <strong>@Model.currentSemester</strong>. The type of rating
    and the semester can be adjusted by clicking on the <span class="glyphicon glyphicon-cog"></span> symbol.
</p>
<div class="top-area">
    <div class="row">
        <div class="col-md-12">
            <div class="table-responsive">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Department</th>
                            <th>College</th>
                            <th># of responses</th>
                            <th># of students</th>
                            <th>Response rate</th>
                            <th>Rating</th>
                        </tr>
                    </thead>
                    <tfoot>
                        <tr>
                            <th>Total/Average</th>
                            <th></th>
                            <th>@Model.totalResponses</th>
                            <th>@Model.totalStudents</th>
                            <th>@Model.averageResponseRate</th>
                            <th>@Model.averageRating</th>
                        </tr>
                    </tfoot>
                    <tbody>
                        @foreach (var department in Model.departments)
                        {
                            <tr>
                                <td>
                                    @Html.ActionLink(department.name, "Detail", "Departments", new { department = GlobalFunctions.escapeQuerystringElement(department.name) }, null)
                                </td>
                                <td>
                                    @Html.ActionLink(department.collegeName, "Detail", "Colleges", new { college = GlobalFunctions.escapeQuerystringElement(department.collegeName) }, null)
                                </td>
                                <td>
                                    @department.responses
                                </td>
                                <td>
                                    @department.students
                                </td>
                                <td>
                                    @department.responseRate
                                </td>
                                <td>
                                    @department.rating
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>