@model UFEvaluations.Models.CourseDetailViewModel

@{
    ViewBag.Title = Model.course.code + " - " + Model.course.title;
}

@section Scripts {
    @Scripts.Render("~/Scripts/datatables-semester-sort.js")
    @Scripts.Render("~/Scripts/loadDatatable-semester-sort-2.js")
}

<h1>@Model.course.code - @Model.course.title</h1>
<p>
    This page displays a list of instructors who taught @Model.course.code.Trim(). It includes the the last semester the instructor taught the course, the total number of
    responses received, the total number of students taught, the average response rate, and the average rating by category for each course beginning
    <strong>@Model.currentSemesterLow</strong> and ending <strong>@Model.currentSemesterHigh</strong>. The type of rating
    and the semester range can be adjusted by clicking on the <span class="glyphicon glyphicon-cog"></span> symbol.
</p>
<div class="top-area">
    <div class="row">
        <div class="col-md-12">
            <div class="table-responsive">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Instructor</th>
                            <th>Last semester</th>
                            <th># of responses</th>
                            <th># of students</th>
                            <th>Response rate</th>
                            <th>Rating</th>
                        </tr>
                    </thead>
                    <tfoot>
                        <tr>
                            <th>Total/Average</th>
                            <th></th>
                            <th>@Model.totalResponses</th>
                            <th>@Model.totalStudents</th>
                            <th>@Model.averageResponseRate</th>
                            <th>@Model.averageRating</th>
                        </tr>
                    </tfoot>
                    <tbody>
                        @foreach (var instructor in Model.instructors)
                        {
                            <tr>
                                <td>
                                    @Html.ActionLink(instructor.firstName + " " + instructor.lastName, "Detail", "Instructors", new { instructor = GlobalFunctions.escapeQuerystringElement(instructor.firstName + instructor.lastName) }, null)
                                </td>
                                <td>
                                    @instructor.lastSemester
                                </td>
                                <td>
                                    @instructor.responses
                                </td>
                                <td>
                                    @instructor.students
                                </td>
                                <td>
                                    @instructor.responseRate
                                </td>
                                <td>
                                    @instructor.rating
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>